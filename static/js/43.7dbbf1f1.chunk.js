(this.webpackJsonpbicon=this.webpackJsonpbicon||[]).push([[43],{1079:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(425),c=n(1),o=n(328),s=n(173),i=n.n(s),l=n(55),d=n.n(l),u=n(343),h=n.n(u),f=n(344),p=n(327),m=function(e){return p.a.get("doctors/needAssistant?"+e)},j=(n(449),function(e){var t="";return Object.keys(e).map((function(n,a){""!==e[n]&&(console.log(" lenght : ",Object.keys(e).length," / index",a),t=a===Object.keys(e).length-1?t+n+"="+e[n]:t+n+"="+e[n]+"&")})),null!==e&&""!==e&&(e.grade&&e.sort&&e.gender?t="grade="+e.grade+"&sort="+e.sort+"&gender="+e.gender:e.grade&&!e.sort&&e.gender?t="sort="+e.grade:!e.grade&&e.sort&&(t="sort="+e.sort)),console.log("url : ",t),function(){var e=Object(f.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t).then((function(e){n({type:"SEARCH_SUCCESS",response:e})}),(function(e){n({type:"EMPTY_DATA",response:401})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),b=n(102),g=n(375),O=n(26),x=n(329),y=n(363),v=n(2),S=Object(a.memo)((function(e){var t=Object(b.c)(),n=Object(b.d)((function(e){return e.Auth.resLog})),s=JSON.parse(localStorage.getItem(O.c+"dataUser"));console.log("token : ",localStorage.getItem(O.d)),console.log("data old : ",s);var l=Object(a.useState)(s),u=Object(o.a)(l,2),h=u[0],f=(u[1],Object(a.useState)({})),p=Object(o.a)(f,2),m=p[0],S=p[1];Object(a.useEffect)((function(){var e=document.querySelectorAll(".materialboxed");d.a.Materialbox.init(e);var t=document.querySelector("select");d.a.FormSelect.init(t),k(),n&&(d.a.toast({html:"your data save successfully , please wait to redirect to panel"}),setTimeout((function(){window.location.pathname="/doctor"}),1500))}),[]);var w=Object(g.a)().i18n;var N=Object(b.d)((function(e){return e.Micro}));function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t(j(e))}function A(e){var t=Object(c.a)({},m);t.sort=e.target.value,S(t),console.log("data searchsssss : ",m),k(t)}i()(".closeee").click((function(){i()(".back_show").fadeOut(),i()("input[name=checkbox_hiden]").attr("checked",!0)}));var _=Object(a.useState)({dataUser:s,doctors:[]}),C=Object(o.a)(_,2),I=C[0],U=C[1];return Object(v.jsx)("div",{id:"main_search_doctor",children:Object(v.jsxs)("div",{className:"box-search",children:[Object(v.jsx)("div",{className:"search-tab",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col s12 l6 m6",children:Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{id:"sorts",children:"Sort By :"}),Object(v.jsx)("input",{name:"sort",onChange:function(e){return A(e)},id:"doctor-radio",className:"with-gap",value:"commision",type:"radio"}),Object(v.jsx)("label",{htmlFor:"doctor-radio",children:"Commission"}),"\xa0\xa0\xa0",Object(v.jsx)("input",{name:"sort",className:"with-gap",value:"grade",onChange:function(e){return A(e)},id:"admin-radio",type:"radio"}),Object(v.jsx)("label",{htmlFor:"admin-radio",children:"Grade"})]})}),Object(v.jsxs)("div",{className:"col s12 l6 m6",children:[Object(v.jsx)("div",{className:" col s12 l4",style:{color:"#fff",height:35,marginTop:"5px",marginBottom:15},children:Object(v.jsxs)("select",{onChange:function(e){return function(e){var t=Object(c.a)({},m);t.gender=e,S(t),k(t)}(e.target.value)},className:"browser-default",name:"gender_sel",children:[Object(v.jsx)("option",{value:"",selected:!0,children:"search by gender"}),Object(v.jsx)("option",{value:"male",children:"Male"}),Object(v.jsx)("option",{value:"female",children:"FeMale"}),Object(v.jsx)("option",{value:"other",children:"Other"})]})}),Object(v.jsx)("div",{className:" col s12 l4",style:{color:"#fff",height:35,marginTop:"5px",marginBottom:15},children:Object(v.jsxs)("select",{onChange:function(e){return function(e){var t=Object(c.a)({},m);t.grade=e,S(t),console.log("gender : ",t," / response : ",m),k(t)}(e.target.value)},className:"browser-default",name:"grade_sel",children:[Object(v.jsx)("option",{value:"",selected:!0,children:"search by grade"}),Object(v.jsx)("option",{value:"3",children:"3"}),Object(v.jsx)("option",{value:"5",children:"5"}),Object(v.jsx)("option",{value:"7",children:"7"})]})}),Object(v.jsx)("div",{className:"col s12 l3",style:{marginBottom:15,display:"flex",justifyContent:"center",color:"#fff"},children:Object(v.jsxs)("div",{style:{marginTop:8},className:"box_switch",children:[Object(v.jsx)("input",{onClick:function(e){localStorage.getItem("lan")||localStorage.setItem("lan","en");var t=i()(".mini-box"),n=localStorage.getItem("lan");i()("input[name=cahngelan]").is(":checked")&&"en"===n?(i()(".mini-box #one").css({display:"none"}),i()(".mini-box #tow").css({display:"flex"}),i()(".box_switch .one img").css({display:"block"}),i()(".box_switch .tow img").css({display:"none"}),t.addClass("actives"),localStorage.setItem("lan","ch")):(i()(".mini-box #tow").css({display:"none"}),i()(".mini-box #one").css({display:"flex"}),i()(".box_switch .one img").css({display:"none"}),i()(".box_switch .tow img").css({display:"block"}),t.removeClass("actives"),localStorage.setItem("lan","en"));var a=localStorage.getItem("lan");w.changeLanguage(a)},name:"cahngelan",checked:"en"!==localStorage.getItem("lan"),type:"checkbox",id:"switcher"}),Object(v.jsxs)("div",{className:"mini-box ".concat("ch"===localStorage.getItem("lan")?"actives":""),children:[Object(v.jsx)("span",{id:"one",style:{display:"".concat("en"===localStorage.getItem("lan")?"flex":"none")},children:"En"}),Object(v.jsx)("span",{id:"tow",style:{display:"".concat("ch"===localStorage.getItem("lan")?"flex":"none")},children:"Ch"})]}),Object(v.jsx)("span",{className:"one",children:Object(v.jsx)("img",{style:{display:"".concat("en"===localStorage.getItem("lan")?"none":"block")},src:"/img/icons/china.png"})}),Object(v.jsx)("span",{className:"tow",children:Object(v.jsx)("img",{style:{display:"".concat("ch"===localStorage.getItem("lan")?"none":"block")},src:"/img/icons/united-kingdom.png"})})]})})]})]})}),Object(v.jsx)("div",{className:"col s12",style:{position:"relative"},children:401==N.searchRes?Object(v.jsx)("p",{style:{textAlign:"center",marginTop:50,fontSize:26,color:"#ffffff"},children:"data is empty! please try again later ..."}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Doctor image"}),Object(v.jsx)("th",{children:"Doctor Name"}),Object(v.jsx)("th",{children:"Education Degree"}),Object(v.jsx)("th",{children:"Education Field"}),Object(v.jsx)("th",{children:"Actions"})]})}),Object(v.jsx)("tbody",{children:N.searchRes.data?N.searchRes.data.data.map((function(e){return Object(v.jsxs)("tr",{children:[console.log("data search : ",e),Object(v.jsx)("td",{style:{alignItems:"center",display:"flex",justifyContent:"center"},children:e.filePath?Object(v.jsx)("img",{src:e.filePath,alt:"bicon img doctor search .img",width:50,height:50,className:"materialboxed circle responsive-img"}):Object(v.jsx)("img",{src:"/img/avatar/avatar-11.png",alt:"bicon img doctor search .img",width:50,height:50,className:"materialboxed circle responsive-img"})}),Object(v.jsx)("td",{children:e.fullName}),Object(v.jsx)("td",{children:e.educationDegree}),Object(v.jsx)("td",{children:e.educationField}),Object(v.jsx)("td",{children:Object(v.jsx)("p",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{name:"checkbox_"+e.id,type:"checkbox",onChange:function(t){return function(e,t){if(i()("#"+t).prop("checked"))U(Object(c.a)(Object(c.a)({},I),{},{doctors:[].concat(Object(r.a)(I.doctors),[t])}));else{var n=Object(r.a)(I.doctors),a=n.indexOf(t);-1!==a&&(n.splice(a,1),U({doctors:n}))}}(0,e.id)},id:e.id}),Object(v.jsx)("label",{htmlFor:e.id})]})})})]})})):"please wait ..."})]}),Object(v.jsx)("div",{className:"col s12",children:Object(v.jsx)("div",{className:"col s3",style:{padding:15,marginLeft:15},children:Object(v.jsx)("button",{onClick:function(e){return function(e){var n=Object(c.a)({},h);if(localStorage.getItem(x.a)){var a=localStorage.getItem(x.a),r=JSON.parse(a).data.data;n.doctors=I,n.attachment=r,t(Object(y.a)(n))}}()},type:"submit",className:"btn waves-effect blue darken-4",children:"submit"})})})]})})]})})}));t.default=Object(a.memo)((function(){return Object(v.jsx)(S,{})}))},327:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(329),r=n(342),c=n.n(r),o=n(346),s=n.n(o);s()(c.a,{retries:a.e,retryDelay:s.a.exponentialDelay});var i=c.a.create({baseURL:a.d,timeout:a.g,headers:a.c});c.a.create({baseURL:a.d,timeout:a.g,headers:a.b})},329:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var a=n(43),r="http://188.34.138.109:7000/",c="".concat("http://185.235.43.243:3000/api/").concat("v1"),o=("".concat(c,"/auth/upload"),6e4),s="clinic_img_1254",i=3,l=Object(a.a)(),d={"Content-Type":"application/json"},u={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+l}},360:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(327),r={SignIn:function(e){return a.a.post("auth/login",e)},SignUp:function(e){return a.a.post("auth/register",e)},VerifyCode:function(e){return a.a.post("auth/verifyActiveCode",e)},ForgetPassword:function(e){return a.a.post("auth/forgotPassword/sendActiveCode",e)},NewPassword:function(e){return a.a.post("auth/resetPassword",e)},UserFirstData:function(e){return a.a.put("auth/updateDetails",e)},DoctorAdd:function(e){return a.a.post("doctors",e)},AssistantAdd:function(e){return a.a.post("doctors",e)},Uploaded:function(e){return a.a.post("/auth/upload",e)}}},363:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return b}));var a=n(343),r=n.n(a),c=n(344),o=n(173),s=n.n(o),i=n(55),l=n.n(i),d=n(360),u=(n(109),"clinic_img_1254"),h=function(e){var t=JSON.stringify({phoneNumber:e.phoneNumber,accountType:2});return function(){var e=Object(c.a)(r.a.mark((function e(n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.SignUp(t).then((function(e){n({type:"SIGN_UP_SUCCESS",response:e.data})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},f=function(e){var t=e.code_1+e.code_2+e.code_3+e.code_4,n=JSON.stringify({phoneNumber:e.phoneNumber,code:t});return function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.VerifyCode(n).then((function(e){t({type:"VERIFY_SUCCESS",token:e.data.token})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},p=function(e){var t=JSON.stringify({fullName:e.fullname,password:e.password});return function(){var e=Object(c.a)(r.a.mark((function e(n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.UserFirstData(t).then((function(e){n({type:"SET_DATA_SUCCESS",response:e})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},m=function(e){var t=e.filePath?e.filePath:"",n=JSON.stringify({isAssistant:e.isAssistant,educationDegree:"",educationField:"",needAssistant:!0,attachment:[t],grade:0,commissionRate:0,assistant:{phoneNumber:"",description:"",attachment:[],doctorsId:[]}});return function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.DoctorAdd(n).then((function(e){localStorage.removeItem(u),t({type:"UPLOADED_OK",response:e})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},j=function(e){var t=e.attachment?e.attachment:"",n=e.doctors.dataUser.phoneNumber?e.doctors.dataUser.phoneNumber:"",a=e.doctors.dataUser.description?e.doctors.dataUser.description:"",o=JSON.stringify({isAssistant:e.doctors.dataUser.isAssistant,needAssistant:!1,assistant:{phoneNumber:n,description:a,doctorsId:e.doctors.doctors,attachment:[t]}});return function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dataaaaa : ",JSON.parse(o)),e.next=3,d.a.AssistantAdd(JSON.parse(o)).then((function(e){t({type:"UPLOADED_OK_ASSIS",responseAssis:e})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},b=function(e){return s()("#check_phone_num").fadeIn(),function(){var t=Object(c.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.setItem(u,""),t.next=3,d.a.Uploaded(e).then((function(e){l.a.toast({html:"Your Document is uploaded"}),s()("#loading_back").fadeOut(),localStorage.setItem(u,JSON.stringify(e))}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error! try again ..."})}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},425:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(334);var r=n(333);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=43.7dbbf1f1.chunk.js.map