(this.webpackJsonpbicon=this.webpackJsonpbicon||[]).push([[38],{1078:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(103),c=n(1),s=n(328),o=n(72),i=n(375),l=n(343),u=n.n(l),d=n(344),p=n(360),h=n(55),m=n.n(h),f=n(363),j=n(173),b=n.n(j),O=n(26),g=n(102),x=(n(57),n(2)),v=Object(a.memo)((function(e){var t=Object(g.d)((function(e){return e.Auth.res})),n=Object(g.d)((function(e){return e.Auth.token})),l=Object(g.d)((function(e){return e.Auth.resLog}));console.log("login res : ",t," /\n login Token : ",n," /\n  Log Res : ",l),Object(a.useEffect)((function(){t&&(b()("#repass_").css({left:"-100%"}),localStorage.setItem("verifyCode",t.data),m.a.toast({html:"verify code : "+t.data})),l&&(200==l.status?(l.statusText="OK")?(console.log("data : ",I.loginPhonenumber),console.log("props : ",l.data),localStorage.setItem(O.d,l.data.token),localStorage.setItem(O.a,l.data.accountType),m.a.toast({html:"please wait to redirect panel ..."}),2==l.data.accountType?setTimeout((function(){window.location.pathname="/doctor"}),1e3):4==l.data.accountType?setTimeout((function(){window.location.pathname="/admin-top"}),1e3):3==l.data.accountType&&setTimeout((function(){window.location.pathname="/admin"}),1e3)):m.a.toast({html:"Your login information is incorrect!"}):console.log("error : ",l)),n&&(localStorage.setItem(O.d,n),window.location.pathname="/your-details");var e=document.querySelectorAll(".tabs");m.a.Tabs.init(e);var a=document.querySelectorAll("select");m.a.FormSelect.init(a);var r=b()("#wrapper");r.on("keyup","input",(function(e){var t=e.which,n=b()(e.target).next("input");return 9!=t&&(t<48||t>57)?(e.preventDefault(),!1):9===t||(n&&n.length||(n=r.find("input").eq(0)),void n.select().focus())})),r.on("keydown","input",(function(e){var t=e.which;return 9===t||t>=48&&t<=57||(e.preventDefault(),!1)})),r.on("click","input",(function(e){b()(e.target).select()}))}));var h=Object(g.c)(),j=Object(i.a)(),v=j.t,y=j.i18n,N=Object(a.useState)(null),w=Object(s.a)(N,2),S=w[0],_=w[1];function k(e){_(Object(c.a)(Object(c.a)({},S),{},Object(r.a)({},e.target.name,e.target.value)))}var A=Object(a.useState)(null),C=Object(s.a)(A,2),I=C[0],T=C[1],U=Object(a.useState)({phoneNumber:null,userType:2}),D=Object(s.a)(U,2),P=D[0],L=D[1];function J(e){T(Object(c.a)(Object(c.a)({},I),{},Object(r.a)({},e.target.name,e.target.value)))}function B(e){e.preventDefault(),h(function(e){var t=JSON.stringify({phoneNumber:e.loginPhonenumber,password:e.loginPassword});return function(){var e=Object(d.a)(u.a.mark((function e(n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.SignIn(t).then((function(e){n({type:"SIGN_IN_SUCCESS",response:e})}),(function(e){m.a.toast({html:""+e.response.data.error})})).catch((function(e){m.a.toast({html:"Network has error! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}(I))}v("select-type.l");return Object(x.jsxs)("div",{className:"auth_back",children:[Object(x.jsx)("div",{id:"back_shado"}),Object(x.jsxs)("div",{style:{width:"31rem"},id:"auth_box",children:[Object(x.jsxs)("div",{id:"change_or_sub",children:[Object(x.jsx)("input",{type:"checkbox",name:"cahngelan",onChange:function(e){localStorage.getItem("lan")||localStorage.setItem("lan","en");var t=localStorage.getItem("lan");b()("input[name=cahngelan]").is(":checked")&&"en"===t?localStorage.setItem("lan","ch"):localStorage.setItem("lan","en");var n=localStorage.getItem("lan");y.changeLanguage(n)},id:"change_lang_login"}),Object(x.jsx)("span",{children:v("Lang.l")})]}),Object(x.jsx)("div",{className:"mini_box_over",children:Object(x.jsx)("div",{id:"mini_circule",children:Object(x.jsx)("i",{className:"material-icons",children:"person_outline"})})}),Object(x.jsx)("div",{className:"mini_box_over",style:{right:0},children:Object(x.jsx)("div",{id:"mini_circule_r",children:Object(x.jsx)("img",{src:"/img/icons/doctorB.png"})})}),Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"input-field col s12",style:{marginTop:55},children:[Object(x.jsx)("p",{id:"text_sub",children:v("Welcome-to.l")}),Object(x.jsx)("p",{id:"text_sub",style:{fontSize:"40px",marginTop:"15px !important",marginBottom:"15px !important"},children:"Bi Con"}),Object(x.jsx)("p",{id:"text_sub",children:v("Backend-panel.l")})]})}),Object(x.jsxs)("div",{className:"register_type_user",id:"verifyBorder",children:[Object(x.jsx)("div",{id:"loading_back",children:Object(x.jsx)("div",{className:"preloader-wrapper big active",id:"loading_progress",children:Object(x.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(x.jsx)("div",{className:"circle-clipper left",children:Object(x.jsx)("div",{className:"circle"})}),Object(x.jsx)("div",{className:"gap-patch",children:Object(x.jsx)("div",{className:"circle"})}),Object(x.jsx)("div",{className:"circle-clipper right",children:Object(x.jsx)("div",{className:"circle"})})]})})}),Object(x.jsxs)("div",{className:"doctor_form",children:[Object(x.jsxs)("ul",{id:"tabs-swipe-demo",className:"tabs",children:[Object(x.jsx)("li",{className:"tab col s6",children:Object(x.jsx)("a",{className:"active",href:"#test-swipe-1",children:v("Login.l")})}),Object(x.jsx)("li",{className:"tab col s6",children:Object(x.jsx)("a",{href:"#test-swipe-2",children:v("Register.l")})})]}),Object(x.jsx)("div",{id:"test-swipe-1",children:Object(x.jsxs)("form",{id:"login",onSubmit:function(e){return B(e)},className:"col s12",style:{paddingLeft:15,paddingRight:15,paddingTop:5,paddingBottom:10},children:[Object(x.jsx)("div",{className:"row",style:{marginBottom:"none !important"},children:Object(x.jsxs)("div",{className:"input-field col s12",style:{marginTop:0},children:[Object(x.jsxs)("p",{style:{color:"#ccc"},children:["\xa0\xa0",v("Phone-num.l")]}),Object(x.jsx)("div",{id:"input_back",children:Object(x.jsx)("input",{onChange:J,lang:"zh",placeholder:v("U-phone-num.l"),autoComplete:"false",name:"loginPhonenumber",required:!0,type:"text",className:"validate"})}),Object(x.jsxs)("p",{id:"alert-p",children:["\xa0\xa0",v("must-field.l")]})]})}),Object(x.jsx)("div",{className:"row",style:{marginBottom:"none !important"},children:Object(x.jsxs)("div",{className:"input-field col s12",style:{marginTop:0},children:[Object(x.jsxs)("p",{style:{color:"#ccc"},children:["\xa0\xa0",v("Password.l")]}),Object(x.jsx)("div",{id:"input_back",children:Object(x.jsx)("input",{placeholder:v("UPassword.l"),autoComplete:"false",name:"loginPassword",onChange:J,required:!0,type:"password",className:"validate"})}),Object(x.jsxs)("p",{id:"alert-p",children:["\xa0\xa0",v("must-field.l")]})]})}),Object(x.jsxs)("div",{className:"col s12",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col s6",style:{marginTop:20,marginBottom:20},children:Object(x.jsx)("button",{type:"submit",className:"btn blue darken-4 waves-effect",children:v("SignIn.l")})})}),Object(x.jsxs)("div",{className:"col s12",style:{padding:0},children:[Object(x.jsx)("span",{style:{float:"left",color:"#fff"},children:v("Forget.l")}),Object(x.jsx)(o.b,{to:"/repass",children:Object(x.jsx)("span",{id:"forget_pass",children:v("Reset.l")})})]})]})]})}),Object(x.jsx)("div",{id:"test-swipe-2",style:{height:"220px"},children:Object(x.jsx)("div",{id:"repass_",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col s6",children:[Object(x.jsxs)("div",{className:"input-field col s12",style:{marginTop:0},children:[Object(x.jsxs)("p",{style:{color:"#ccc"},children:["\xa0\xa0",v("Phone-num.l")]}),Object(x.jsx)("div",{id:"input_back",children:Object(x.jsx)("input",{placeholder:v("U-phone-num.l"),autoComplete:"false",name:"phoneNumber",min:"0",max:"9",onChange:function(e){return function(e){var t=b()("input[name=phoneNumber]").val();localStorage.setItem("rols",2),L(Object(c.a)(Object(c.a)({},P),{},{phoneNumber:t,userType:2}))}()},required:!0,type:"text",className:"validate"})}),Object(x.jsxs)("p",{id:"alert-p",children:["\xa0\xa0",v("must-field.l")]})]}),Object(x.jsx)("div",{className:"col s6",children:Object(x.jsx)("a",{className:"btn blue darken-4 waves-effect",onClick:function(){var e=P.phoneNumber;/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4(?:(?:10|4[01])\d{3}|[68]\d{4}|[579]\d{2}))\d{6}$/.test(e)?(b()("#loading_back").fadeIn(),_(Object(c.a)(Object(c.a)({},S),{},{phoneNumber:P.phoneNumber})),setTimeout((function(){b()("#loading_back").fadeOut(),h(Object(f.d)(P))}),3e3)):m.a.toast({html:"Please enter the phone number correctly"})},style:{textTransform:"unset !important"},id:"check_phone_num",children:v("SignUp.l")})})]}),Object(x.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),h(Object(f.f)(S))}(e)},children:Object(x.jsxs)("div",{className:"col s6",children:[Object(x.jsxs)("div",{className:"input-field col s12",style:{marginTop:0},children:[Object(x.jsxs)("p",{style:{color:"#ccc"},children:["\xa0\xa0",v("Verify.l")]}),Object(x.jsx)("div",{id:"wrapper",children:Object(x.jsx)("div",{id:"dialog",children:Object(x.jsxs)("div",{id:"form",children:[Object(x.jsx)("input",{type:"text",placeholder:"--",maxLength:"1",size:"1",name:"code_1",onChange:function(e){return k(e)},min:"0",max:"9",pattern:"[0-9]{1}"}),Object(x.jsx)("input",{type:"text",placeholder:"--",maxLength:"1",size:"1",onChange:function(e){return k(e)},name:"code_2",min:"0",max:"9",pattern:"[0-9]{1}"}),Object(x.jsx)("input",{type:"text",placeholder:"--",maxLength:"1",size:"1",onChange:function(e){return k(e)},name:"code_3",min:"0",max:"9",pattern:"[0-9]{1}"}),Object(x.jsx)("input",{type:"text",placeholder:"--",maxLength:"1",size:"1",name:"code_4",min:"0",max:"9",onChange:function(e){return k(e)},pattern:"[0-9]{1}"})]})})}),Object(x.jsxs)("p",{id:"alert-p",children:["\xa0\xa0",v("must-field.l")]})]}),Object(x.jsx)("div",{className:"col s6",children:Object(x.jsx)("button",{type:"submit",style:{textTransform:"unset !important"},id:"check_code",className:"btn blue darken-4 waves-effect",children:v("check.l")})})]})})]})})})})]})]})]})})]})]})})),y=Object(a.memo)((function(e){return Object(x.jsx)(v,{children:e.children})}));t.default=Object(a.memo)((function(){return Object(x.jsx)(y,{})}))},327:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(329),r=n(342),c=n.n(r),s=n(346),o=n.n(s);o()(c.a,{retries:a.e,retryDelay:o.a.exponentialDelay});var i=c.a.create({baseURL:a.d,timeout:a.g,headers:a.c});c.a.create({baseURL:a.d,timeout:a.g,headers:a.b})},328:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(333);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,c=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(i){r=!0,c=i}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},329:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(43),r="http://188.34.138.109:7000/",c="".concat("http://185.235.43.243:3000/api/").concat("v1"),s=("".concat(c,"/auth/upload"),6e4),o="clinic_img_1254",i=3,l=Object(a.a)(),u={"Content-Type":"application/json"},d={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+l}},333:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(334);function r(e,t){if(e){if("string"===typeof e)return Object(a.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(e,t):void 0}}},334:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},360:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(327),r={SignIn:function(e){return a.a.post("auth/login",e)},SignUp:function(e){return a.a.post("auth/register",e)},VerifyCode:function(e){return a.a.post("auth/verifyActiveCode",e)},ForgetPassword:function(e){return a.a.post("auth/forgotPassword/sendActiveCode",e)},NewPassword:function(e){return a.a.post("auth/resetPassword",e)},UserFirstData:function(e){return a.a.put("auth/updateDetails",e)},DoctorAdd:function(e){return a.a.post("doctors",e)},AssistantAdd:function(e){return a.a.post("doctors",e)},Uploaded:function(e){return a.a.post("/auth/upload",e)}}},363:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return b}));var a=n(343),r=n.n(a),c=n(344),s=n(173),o=n.n(s),i=n(55),l=n.n(i),u=n(360),d=(n(109),"clinic_img_1254"),p=function(e){var t=JSON.stringify({phoneNumber:e.phoneNumber,accountType:2});return function(){var e=Object(c.a)(r.a.mark((function e(n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.SignUp(t).then((function(e){n({type:"SIGN_UP_SUCCESS",response:e.data})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},h=function(e){var t=e.code_1+e.code_2+e.code_3+e.code_4,n=JSON.stringify({phoneNumber:e.phoneNumber,code:t});return function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.VerifyCode(n).then((function(e){t({type:"VERIFY_SUCCESS",token:e.data.token})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},m=function(e){var t=JSON.stringify({fullName:e.fullname,password:e.password});return function(){var e=Object(c.a)(r.a.mark((function e(n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.UserFirstData(t).then((function(e){n({type:"SET_DATA_SUCCESS",response:e})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},f=function(e){var t=e.filePath?e.filePath:"",n=JSON.stringify({isAssistant:e.isAssistant,educationDegree:"",educationField:"",needAssistant:!0,attachment:[t],grade:0,commissionRate:0,assistant:{phoneNumber:"",description:"",attachment:[],doctorsId:[]}});return function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.DoctorAdd(n).then((function(e){localStorage.removeItem(d),t({type:"UPLOADED_OK",response:e})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},j=function(e){var t=e.attachment?e.attachment:"",n=e.doctors.dataUser.phoneNumber?e.doctors.dataUser.phoneNumber:"",a=e.doctors.dataUser.description?e.doctors.dataUser.description:"",s=JSON.stringify({isAssistant:e.doctors.dataUser.isAssistant,needAssistant:!1,assistant:{phoneNumber:n,description:a,doctorsId:e.doctors.doctors,attachment:[t]}});return function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dataaaaa : ",JSON.parse(s)),e.next=3,u.a.AssistantAdd(JSON.parse(s)).then((function(e){t({type:"UPLOADED_OK_ASSIS",responseAssis:e})}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error ! try again ..."})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},b=function(e){return o()("#check_phone_num").fadeIn(),function(){var t=Object(c.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.setItem(d,""),t.next=3,u.a.Uploaded(e).then((function(e){l.a.toast({html:"Your Document is uploaded"}),o()("#loading_back").fadeOut(),localStorage.setItem(d,JSON.stringify(e))}),(function(e){l.a.toast({html:""+e.response.data.error})})).catch((function(e){l.a.toast({html:"Network has error! try again ..."})}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=38.5c69d18b.chunk.js.map